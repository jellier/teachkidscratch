# 第四课：完善之前的小游戏，开发游戏思维

## 课程概括：   
> 完善青蛙捉虫子游戏的重力部分，完善大鱼吃小鱼的克隆部分      
> 如何创作属于自己的游戏   

## 本节课涉及到的知识点、使用到的模块：  
> 重力：真实世界中的重力：在真实世界中，当你试图沿直线抛出一个物体时，它总是会在重力的作用下画出一道落向地面的弧线。  
        斜抛运动的轨迹是抛物线。斜抛运动的加速度是重力加速度，所以斜抛运动是匀变速运动。-- 这种解释对于孩子太难理解了。所以孩子们只要知道重力会影响物体的运动轨迹，运动轨迹取决于物体本身的重量和发射速度。   
        在本节课的示例中，物体重量是一定的，所以可以通过发射速度来控制运动轨迹（如何吃到虫子）


## 1. 弹射控制类游戏：青蛙捉虫子      
> 说明： 使用键盘上下箭头控制青蛙弹跳的方向，空格键控制发射，用尽量少的跳跃次数捕获更多的虫子   
> 知识点：键盘控制，复习广播，了解重力的概念     
> 示例地址：[青蛙捉虫子-上](https://scratch.mit.edu/projects/324177292/editor)   
> 示例地址：[青蛙捉虫子-中](https://scratch.mit.edu/projects/324174825/editor)

> 步骤：添加青蛙（初始化，发射控制）和发射器（初始化，上下左右箭头控制）-->   
        增加螳螂（初始化，克隆体初始化，game over广播）———>   
        添加game over的角色，发射次数变量（初始化，空格事件计数，接收广播显示） ———>    
        收尾：game over时其他角色的处理

> 此示例扩展 1： 增加障碍物   
> 示例地址：[青蛙捉虫子](https://scratch.mit.edu/projects/323834199/editor)   
> 说明：增加一颗小灌木，确保角色轻微偏离舞台中心，稍靠左侧，否则虫子可能会粘在树后，游戏永远也结束不了   
> 只需要在青蛙的代码中加入"或'碰到树'"的判断即可   

> 此示例扩展 2: 增加重力加速度（重力的理解较难）    
> 说明：增加了障碍物之后，青蛙撞到树后会停止飞行，这使得它无法抓到页面右侧的虫子，所以需要重力来帮忙   
> 步骤： 增加两个变量"重力"和 "下落速度"， 用于模拟重力加速度   
        在青蛙的初始化中增加变量"重力"的初始值（-0.2）-->   
        在青蛙的发射控制中（空格键触发）将"下落速度"设为0，表示在刚开始发射的时候青蛙还没有开始下落 -->    
        在发射控制的循环中将青蛙的y坐标增加"下落速度"，让青蛙（在循环中）不断下落，   
        同时将"下落速度"增加"重力"，让青蛙在每次循环之后加快下落速度    
> 备注：真实世界中的重力：在真实世界中，当你试图沿直线抛出一个物体时，它总是会在重力的作用下画出一道落向地面的弧线
        为了让游戏以同样的方式运行，我们让青蛙先沿着直线运动，但同时在它每次谓一致后添加一次向下的运动，这样就能模拟出持续不断的重力下拉效果。这样会让运动看起来更自然逼真。    
        
## 2. 操作指定克隆体：删除指定的小猫
> 说明： 在scratch的克隆操作中，只有"当做为克隆体启动时"（可以理解为触发事件），"克隆自己"/"删除此克隆体"(这俩可以理解为对克隆体的操作), 对克隆体的操作一般是在克隆体启动时进行处理，但如果在克隆体创建后再想操作某个指定的克隆体就没有直接的指令了，所以需要进行额外的处理。在生成克隆体的时候为每一个克隆体设置一个独立编号（编程中叫"私有变量"），当接收到广播时再判断是哪一个编号的克隆体需要接收此广播     
    
   
> 知识点：私有变量--新建变量（仅适用于当前角色）      
> 示例地址：[操作指定克隆体](https://scratch.mit.edu/projects/324179756/editor)   
> 备注：此方法在进行游戏编写时非常重要   

## 孩子们出现的问题：  
>>1. Q: 在前一天的作业中，让孩子们根据已经掌握的知识去把青蛙捉虫子的部分实现，今天完成度都很高，他们反馈的问题是：把控制发射方向的代码加在了箭头上，但应该发射的物体是青蛙，不知道如何让青蛙按照箭头的方向发射    
     A: 这一点之前确实没有讲过，我忽略了。应该用运动模块下的"面向***的方向"，把***设定为arrow的方向即可
   
 >2. Q: 通过青蛙捉虫子的学习已经掌握了克隆在游戏中的操作，所以要求他们把小鱼游戏改编成克隆版本，克隆出多条小鱼，每条小鱼碰到大鱼后都要被吃掉（隐藏或删除）      
     A:  在第一天的游戏中，几乎每个孩子都把对小鱼和大鱼的碰撞检测都直接放到了"当绿旗被点击"下， 而小鱼游动是一个持续的过程（循环），所以检测只在绿旗被点击后发生了一次，而小鱼一直在游动，导致游戏运行起来后大鱼碰撞到小鱼并不会消失 。今天把碰撞检测从绿旗点击挪到了克隆体启动时下面，又发生了同样的错误。因为大鱼小鱼持续在动，所以检测也需要时时监听。   
     
     
     
## 如何创作属于自己的游戏
> 通过学过的这几个游戏，给孩子们介绍了一下写游戏的方法（套路）： 
> 创作步骤：  
>> step1. 添加主要的角色（对象），对角色进行控制（键盘？鼠标？）   
>> step2. 添加目标（或敌人）：    
    1) 明确目的：chase? catch? reach?    
    2) 记分或计时...    
    3) 对敌人或目标控制：移动，隐藏，碰撞      
>> step3. 增加阻碍（也可以是更多的敌人）以增加难度：如墙壁，障碍物，或者不同方向/类型的敌人   
>> step4. 加速器/能量石：如主要角色碰到加速器可以让敌人统统消失或者能量翻倍，得分翻倍诸如此类      
>> step5. 游戏结束标志：game over提示     
>> step6. 思考还可以做什么：如片头说明提示，或者多个关卡，进入下一关    

> 希望孩子们可以创造出属于自己的游戏   
> 如果没有思路可以多逛逛社区： [scratch中文社区](https://scratch.mit.edu/discuss/17/)   
> 在社区里也可以看到别人的作品，充实思路的同时也在别人发生的错误上积累经验。社区是程序员成长的最好地方  

## 课后练习
[重力模拟](review1.md)
[控制指定克隆体](review2.md)